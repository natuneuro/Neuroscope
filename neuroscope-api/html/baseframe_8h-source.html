<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NeuroScope: baseframe.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>baseframe.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">                          baseframe.h  -  description</span>
<a name="l00003"></a>00003 <span class="comment">                             -------------------</span>
<a name="l00004"></a>00004 <span class="comment">    begin                : Wed Feb 18 2004</span>
<a name="l00005"></a>00005 <span class="comment">    copyright            : (C) 2004 by Lynn Hazan</span>
<a name="l00006"></a>00006 <span class="comment">    email                : lynn.hazan@myrealbox.com</span>
<a name="l00007"></a>00007 <span class="comment"> ***************************************************************************/</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="comment">/***************************************************************************</span>
<a name="l00010"></a>00010 <span class="comment"> *                                                                         *</span>
<a name="l00011"></a>00011 <span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span>
<a name="l00012"></a>00012 <span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span>
<a name="l00013"></a>00013 <span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span>
<a name="l00014"></a>00014 <span class="comment"> *   (at your option) any later version.                                   *</span>
<a name="l00015"></a>00015 <span class="comment"> *                                                                         *</span>
<a name="l00016"></a>00016 <span class="comment"> ***************************************************************************/</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#ifndef BASEFRAME_H</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#define BASEFRAME_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="comment">// include files for QT</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;qwidget.h&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;qframe.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;qcursor.h&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">//include files for the application</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "zoomwindow.h"</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">//General C++ include files</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00031"></a>00031 <span class="keyword">using namespace </span>std;
<a name="l00032"></a>00032 
<a name="l00048"></a><a class="code" href="classBaseFrame.html">00048</a> <span class="keyword">class </span><a class="code" href="classBaseFrame.html">BaseFrame</a> : <span class="keyword">public</span> QFrame  {
<a name="l00049"></a>00049    Q_OBJECT
<a name="l00050"></a>00050    
<a name="l00051"></a>00051 <span class="keyword">public</span>:
<a name="l00052"></a>00052 
<a name="l00056"></a><a class="code" href="classBaseFrame.html#4ed79292b4a10b809dbfc75539930be3">00056</a>   <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="classBaseFrame.html#4ed79292b4a10b809dbfc75539930be3">Mode</a>;
<a name="l00057"></a>00057 
<a name="l00060"></a>00060   <span class="keyword">enum</span> {ZOOM = 1};
<a name="l00061"></a>00061 
<a name="l00079"></a>00079   <a class="code" href="classBaseFrame.html#08c23ef3ffdaf42c5d50bf1e03861bd9">BaseFrame</a>(<span class="keywordtype">int</span> <a class="code" href="classBaseFrame.html#eb2736bd5e834b18deda01f39000c9d4">Xborder</a>,<span class="keywordtype">int</span> <a class="code" href="classBaseFrame.html#81006c32f99a5d98730362413c96c206">Yborder</a>,QWidget* parent=0, <span class="keyword">const</span> <span class="keywordtype">char</span>* name=0,QColor backgroundColor = Qt::black,
<a name="l00080"></a>00080            <span class="keywordtype">int</span> minSize = 500, <span class="keywordtype">int</span> maxSize = 4000, <span class="keywordtype">int</span> windowTopLeft = -500,<span class="keywordtype">int</span> windowBottomRight = 1001, <span class="keywordtype">int</span> border = 0);
<a name="l00081"></a>00081      ~<a class="code" href="classBaseFrame.html">BaseFrame</a>();
<a name="l00082"></a>00082   
<a name="l00084"></a><a class="code" href="classBaseFrame.html#85ea6fd520df8b44cb5c6eaae4372cea">00084</a>   <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#85ea6fd520df8b44cb5c6eaae4372cea">willBeKilled</a>(){};
<a name="l00085"></a>00085 
<a name="l00092"></a><a class="code" href="classBaseFrame.html#49688b006f974c0b969d94d53cfb1462">00092</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#49688b006f974c0b969d94d53cfb1462">setBorders</a>(<span class="keywordtype">int</span> x,<span class="keywordtype">int</span> y){
<a name="l00093"></a>00093    <a class="code" href="classBaseFrame.html#eb2736bd5e834b18deda01f39000c9d4">Xborder</a> = x;
<a name="l00094"></a>00094    <a class="code" href="classBaseFrame.html#81006c32f99a5d98730362413c96c206">Yborder</a> = y; 
<a name="l00095"></a>00095   };
<a name="l00096"></a>00096   
<a name="l00097"></a>00097 <span class="keyword">public</span> slots:
<a name="l00098"></a>00098 
<a name="l00100"></a><a class="code" href="classBaseFrame.html#f8a8f89f200d9e555105d16a23e1f426">00100</a>   <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#f8a8f89f200d9e555105d16a23e1f426">updateDrawing</a>(){};
<a name="l00101"></a>00101 
<a name="l00106"></a><a class="code" href="classBaseFrame.html#25cad6ae1e2bf9500bed44a0a3ced99f">00106</a>   <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#25cad6ae1e2bf9500bed44a0a3ced99f">dockBeingClosed</a>(){emit parentDockBeingClosed(<span class="keyword">this</span>);};
<a name="l00107"></a>00107 
<a name="l00109"></a>00109   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#ef7e967fe06782c71bd8f5064bcf717e">changeBackgroundColor</a>(QColor color);
<a name="l00110"></a>00110 
<a name="l00114"></a><a class="code" href="classBaseFrame.html#f663c93dfb4f6e72a2ed95a4b05a49a1">00114</a>   <span class="keyword">virtual</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#f663c93dfb4f6e72a2ed95a4b05a49a1">setMode</a>(<a class="code" href="classBaseFrame.html#4ed79292b4a10b809dbfc75539930be3">BaseFrame::Mode</a> selectedMode){<a class="code" href="classBaseFrame.html#537365ffcab6cd6a70b85aca5e2bc44b">mode</a> = selectedMode;};
<a name="l00115"></a>00115   
<a name="l00116"></a>00116 signals:
<a name="l00117"></a>00117    <span class="comment">/*s*Signals that the enclosing dockwidget is being closed</span>
<a name="l00118"></a>00118 <span class="comment">   * @param viewWidget pointer on the the current object.</span>
<a name="l00119"></a>00119 <span class="comment">   */</span>
<a name="l00120"></a>00120    <span class="keywordtype">void</span> parentDockBeingClosed(QWidget* viewWidget);
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 <span class="keyword">protected</span>:
<a name="l00127"></a>00127   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#39c92c9c565ff19a08574921aeb8b1c9">drawContents</a>(QPainter* p)=0;
<a name="l00128"></a>00128 
<a name="l00132"></a>00132   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#98bda7b81ff5b20635d87afc6cc3bdcc">resizeEvent</a>(QResizeEvent* event);
<a name="l00133"></a>00133 
<a name="l00137"></a>00137   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#83d98628ce49f578feec1949230e9a40">mousePressEvent</a>(QMouseEvent* event); 
<a name="l00138"></a>00138 
<a name="l00142"></a>00142   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#d0786a29e6c115f738c5b606e2c2c78d">mouseReleaseEvent</a>(QMouseEvent* event);  
<a name="l00143"></a>00143 
<a name="l00147"></a>00147   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#197c49ce89a68ca4fcfb46b2e03b6e14">mouseMoveEvent</a>(QMouseEvent* event);
<a name="l00148"></a>00148 
<a name="l00152"></a>00152   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#f48a5a507941bffbdcf35a267db4d207">mouseDoubleClickEvent</a>(QMouseEvent* event);
<a name="l00153"></a>00153 
<a name="l00160"></a>00160   QPoint <a class="code" href="classBaseFrame.html#03484d1a2e9a1d201287ad70aab44aa0">viewportToWorld</a>(<span class="keywordtype">int</span> vx, <span class="keywordtype">int</span> vy);
<a name="l00161"></a>00161 
<a name="l00168"></a><a class="code" href="classBaseFrame.html#f9265c23faaf35c79d4eb1e4794c1d32">00168</a>   <span class="keyword">inline</span> QPoint <a class="code" href="classBaseFrame.html#03484d1a2e9a1d201287ad70aab44aa0">viewportToWorld</a>(<span class="keyword">const</span> QPoint&amp; point){
<a name="l00169"></a>00169     <span class="keywordflow">return</span> <a class="code" href="classBaseFrame.html#03484d1a2e9a1d201287ad70aab44aa0">viewportToWorld</a>(point.x(), point.y());
<a name="l00170"></a>00170   };
<a name="l00171"></a>00171 
<a name="l00178"></a>00178   QPoint <a class="code" href="classBaseFrame.html#17e5e6b1ad3f01547787e06e03ea588c">worldToViewport</a>(<span class="keywordtype">int</span> wx, <span class="keywordtype">int</span> wy);
<a name="l00179"></a>00179 
<a name="l00186"></a><a class="code" href="classBaseFrame.html#053c7f7bb1580b5c600f4956164f8932">00186</a>   <span class="keyword">inline</span> QPoint <a class="code" href="classBaseFrame.html#17e5e6b1ad3f01547787e06e03ea588c">worldToViewport</a>(<span class="keyword">const</span> QPoint&amp; point){
<a name="l00187"></a>00187     <span class="keywordflow">return</span> <a class="code" href="classBaseFrame.html#17e5e6b1ad3f01547787e06e03ea588c">worldToViewport</a>(point.x(), point.y());
<a name="l00188"></a>00188   };
<a name="l00189"></a>00189 
<a name="l00194"></a>00194   <span class="keywordtype">long</span> <a class="code" href="classBaseFrame.html#a478a3916cf0f479fcb083ff08867088">worldToViewportAbscissa</a>(<span class="keywordtype">long</span> wx);
<a name="l00195"></a>00195 
<a name="l00200"></a>00200   <span class="keywordtype">long</span> <a class="code" href="classBaseFrame.html#cf2c8b00e2bc12bfa98818a6ae63f6b8">worldToViewportOrdinate</a>(<span class="keywordtype">long</span> wy);
<a name="l00201"></a>00201 
<a name="l00205"></a>00205   <span class="keywordtype">void</span>  <a class="code" href="classBaseFrame.html#18d0c6f845cfc3616c8608816786ba2c">drawRubber</a>();
<a name="l00206"></a>00206 
<a name="l00212"></a><a class="code" href="classBaseFrame.html#acd2433ac7a8a15e1e4e8e8669be83e7">00212</a>   <span class="keyword">inline</span> <span class="keywordtype">long</span> <a class="code" href="classBaseFrame.html#acd2433ac7a8a15e1e4e8e8669be83e7">worldToViewportWidth</a>(<span class="keywordtype">long</span> width){
<a name="l00213"></a>00213     <span class="keywordtype">float</span> widthRatio = (static_cast&lt;float&gt;(viewport.width())/static_cast&lt;float&gt;(((QRect)<a class="code" href="classBaseFrame.html#0e1eb07e14265db968c5ebcd33422d3f">window</a>).width()));
<a name="l00214"></a>00214     <span class="keywordflow">return</span> static_cast&lt;long&gt;(width * widthRatio);
<a name="l00215"></a>00215   };
<a name="l00216"></a>00216 
<a name="l00222"></a><a class="code" href="classBaseFrame.html#9e6d021d6d1370fad4d7b837a1312788">00222</a>   <span class="keyword">inline</span> <span class="keywordtype">long</span> <a class="code" href="classBaseFrame.html#9e6d021d6d1370fad4d7b837a1312788">worldToViewportHeight</a>(<span class="keywordtype">long</span> height){
<a name="l00223"></a>00223     <span class="keywordtype">float</span> heightRatio = (static_cast&lt;float&gt;(viewport.height())/static_cast&lt;float&gt;(((QRect)<a class="code" href="classBaseFrame.html#0e1eb07e14265db968c5ebcd33422d3f">window</a>).height()));
<a name="l00224"></a>00224     <span class="keywordflow">return</span> static_cast&lt;long&gt;(height * heightRatio);
<a name="l00225"></a>00225   };
<a name="l00226"></a>00226 
<a name="l00232"></a><a class="code" href="classBaseFrame.html#54c82e682dfe3900ef12e239359b6ecf">00232</a>   <span class="keyword">inline</span> <span class="keywordtype">long</span> <a class="code" href="classBaseFrame.html#54c82e682dfe3900ef12e239359b6ecf">viewportToWorldWidth</a>(<span class="keywordtype">long</span> width){
<a name="l00233"></a>00233     <span class="keywordtype">float</span> widthRatio = (static_cast&lt;float&gt;(((QRect)<a class="code" href="classBaseFrame.html#0e1eb07e14265db968c5ebcd33422d3f">window</a>).width())/static_cast&lt;float&gt;(viewport.width()));
<a name="l00234"></a>00234     <span class="keywordflow">return</span> static_cast&lt;long&gt;(width * widthRatio);
<a name="l00235"></a>00235   };
<a name="l00236"></a>00236 
<a name="l00242"></a><a class="code" href="classBaseFrame.html#1b7db95dc1b485f04f01ce90cf1a16b5">00242</a>   <span class="keyword">inline</span> <span class="keywordtype">long</span> <a class="code" href="classBaseFrame.html#1b7db95dc1b485f04f01ce90cf1a16b5">viewportToWorldHeight</a>(<span class="keywordtype">long</span> height){
<a name="l00243"></a>00243     <span class="keywordtype">float</span> heightRatio = (static_cast&lt;float&gt;(((QRect)<a class="code" href="classBaseFrame.html#0e1eb07e14265db968c5ebcd33422d3f">window</a>).height())/static_cast&lt;float&gt;(viewport.height()));
<a name="l00244"></a>00244     <span class="keywordflow">return</span> static_cast&lt;long&gt;(height * heightRatio);
<a name="l00245"></a>00245   };
<a name="l00246"></a>00246 
<a name="l00251"></a><a class="code" href="classBaseFrame.html#8b4b98609f084d284e0f16e52d59e379">00251</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classBaseFrame.html#8b4b98609f084d284e0f16e52d59e379">drawRubberBand</a>(<span class="keywordtype">bool</span> draw,<span class="keywordtype">bool</span> vertical = <span class="keyword">false</span>){
<a name="l00252"></a>00252    <a class="code" href="classBaseFrame.html#b9ed4b7498b73f1f3e547951337bdb81">isRubberBandToBeDrawn</a> = draw;
<a name="l00253"></a>00253    <a class="code" href="classBaseFrame.html#84fcc692e1d9caf49b461a02b434b040">wholeHeightRectangle</a> = vertical;
<a name="l00254"></a>00254   };
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 <span class="comment">//Members</span>
<a name="l00257"></a>00257 
<a name="l00262"></a><a class="code" href="classBaseFrame.html#d7f164263ec7f7865bc902afd0993146">00262</a>   <span class="keyword">enum</span> <a class="code" href="classBaseFrame.html#d7f164263ec7f7865bc902afd0993146">DrawContentsMode</a>{REFRESH=1, UPDATE=2,REDRAW=3};
<a name="l00263"></a>00263 
<a name="l00264"></a>00264   <span class="keyword">const</span> <span class="keywordtype">int</span> MIN_SIZE; <span class="comment">//Default 500</span>
<a name="l00265"></a>00265   <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_SIZE; <span class="comment">//Default 4000</span>
<a name="l00266"></a>00266   <span class="keyword">const</span> <span class="keywordtype">int</span> BORDER; <span class="comment">//Default 0</span>
<a name="l00267"></a>00267   <span class="keyword">const</span> <span class="keywordtype">int</span> WINDOW_TOP_LEFT; <span class="comment">//Default -500</span>
<a name="l00268"></a>00268   <span class="keyword">const</span> <span class="keywordtype">int</span> WINDOW_BOTTOM_RIGHT; <span class="comment">//Default 1001</span>
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   QSize oldSize;
<a name="l00271"></a>00271   QRect viewport;
<a name="l00272"></a>00272 
<a name="l00276"></a><a class="code" href="classBaseFrame.html#0e1eb07e14265db968c5ebcd33422d3f">00276</a>   <a class="code" href="classZoomWindow.html">ZoomWindow</a> <a class="code" href="classBaseFrame.html#0e1eb07e14265db968c5ebcd33422d3f">window</a>;
<a name="l00280"></a><a class="code" href="classBaseFrame.html#898c9f47dfb8c1985d62d3ddf4c98e15">00280</a>   QPoint <a class="code" href="classBaseFrame.html#898c9f47dfb8c1985d62d3ddf4c98e15">firstClick</a>;
<a name="l00284"></a><a class="code" href="classBaseFrame.html#6ad97a743de6ac527c59e393116c8677">00284</a>   <span class="keywordtype">bool</span> <a class="code" href="classBaseFrame.html#6ad97a743de6ac527c59e393116c8677">isDoubleClick</a>;
<a name="l00288"></a><a class="code" href="classBaseFrame.html#7fc2ebfdc70306e12a3266d404e27301">00288</a>   QRect* <a class="code" href="classBaseFrame.html#7fc2ebfdc70306e12a3266d404e27301">rubber</a>;
<a name="l00289"></a>00289 
<a name="l00291"></a><a class="code" href="classBaseFrame.html#49da95ca2ea8e59db1a135e661de87b8">00291</a>   <a class="code" href="classBaseFrame.html#d7f164263ec7f7865bc902afd0993146">DrawContentsMode</a> <a class="code" href="classBaseFrame.html#49da95ca2ea8e59db1a135e661de87b8">drawContentsMode</a>;
<a name="l00292"></a>00292 
<a name="l00296"></a><a class="code" href="classBaseFrame.html#537365ffcab6cd6a70b85aca5e2bc44b">00296</a>    <a class="code" href="classBaseFrame.html#4ed79292b4a10b809dbfc75539930be3">Mode</a> <a class="code" href="classBaseFrame.html#537365ffcab6cd6a70b85aca5e2bc44b">mode</a>;
<a name="l00297"></a>00297 
<a name="l00299"></a><a class="code" href="classBaseFrame.html#461a05b89b41e7a282d2352464b7d403">00299</a>   QCursor <a class="code" href="classBaseFrame.html#461a05b89b41e7a282d2352464b7d403">zoomCursor</a>;
<a name="l00300"></a>00300 
<a name="l00303"></a><a class="code" href="classBaseFrame.html#eb2736bd5e834b18deda01f39000c9d4">00303</a>   <span class="keywordtype">int</span> <a class="code" href="classBaseFrame.html#eb2736bd5e834b18deda01f39000c9d4">Xborder</a>;
<a name="l00304"></a>00304 
<a name="l00307"></a><a class="code" href="classBaseFrame.html#81006c32f99a5d98730362413c96c206">00307</a>   <span class="keywordtype">int</span> <a class="code" href="classBaseFrame.html#81006c32f99a5d98730362413c96c206">Yborder</a>;
<a name="l00308"></a>00308 
<a name="l00310"></a><a class="code" href="classBaseFrame.html#b9ed4b7498b73f1f3e547951337bdb81">00310</a>   <span class="keywordtype">bool</span> <a class="code" href="classBaseFrame.html#b9ed4b7498b73f1f3e547951337bdb81">isRubberBandToBeDrawn</a>;
<a name="l00311"></a>00311 
<a name="l00315"></a><a class="code" href="classBaseFrame.html#84fcc692e1d9caf49b461a02b434b040">00315</a>   <span class="keywordtype">bool</span> <a class="code" href="classBaseFrame.html#84fcc692e1d9caf49b461a02b434b040">wholeHeightRectangle</a>;
<a name="l00316"></a>00316 
<a name="l00318"></a><a class="code" href="classBaseFrame.html#6177f999793cd3b4017a51a9af4cb72f">00318</a>   QColor <a class="code" href="classBaseFrame.html#6177f999793cd3b4017a51a9af4cb72f">colorLegend</a>;
<a name="l00319"></a>00319   
<a name="l00320"></a>00320 };
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Oct 15 22:24:37 2006 for NeuroScope by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
